//
//  main.c
//  PG5_102062210
//
//  Created by Hsieh Yu Hua on 2013/11/29.
//  Copyright (c) 2013å¹´ Hsieh Yu Hua_NTHU_s102062210. All rights reserved.
//

#include <stdio.h>
#include <string.h>
#include <stdlib.h>

int compiler();
void calculator();
int main(int argc, const char * argv[])
{
    int door;
    if (scanf("%d",&door)==1)
    {
        if (door==1)
        {
            compiler();
        }
        else if (door==2)
        {
            calculator();
        }
        else printf("input error");
    }
    return 0;
}

int compiler()
{
    int i=0;
    char buffer[10][10]={0};
    char output[100]={0};
    FILE *fp;
    fp=fopen("input1.txt", "rt");
    while(fscanf(fp, "%s",buffer[i]))//not the end of the file
    {
//load every line to buffer[10][10]
        ;
        
//search the string, if there is any illegal char in the string, print error.
        for (int j=0; j<strlen(buffer[i]); j++)
        {
            /*size is wrong */
            if ((strlen(buffer[i]))>6)
            {
                printf("ERROR:LINE %d",(i+1));
                return 0;
            }
            /* operand shall be at the right places*/
            if (j==0||j==2||j==4)
            {
                switch (buffer[i][j]) {
                    case '1':
                        break;
                    case '2':
                        break;
                    case '3':
                        break;
                    case '4':
                        break;
                    case '5':
                        break;
                    case '6':
                        break;
                    case '7':
                        break;
                    case '8':
                        break;
                    case '9':
                        break;
                    default:
                        printf("ERROR:LINE %d",(i+1));
                        return 0;
                        break;
            }
            }
            /* operator shall be at the right places*/
            if (j==1||j==3||j==5)
            {
                switch (buffer[i][j])
                {
                    case '+':
                        break;
                    case '-':
                        break;
                    case '*':
                        break;
                    case '/':
                        break;
                    case ';':
                        if (strlen(buffer[i])>4)
                        {
                            printf("ERROR:LINE %d",(i+1));
                            return 0;
                        }
                        break;
                    default:
                        printf("ERROR:LINE %d",(i+1));
                        return 0;
                        break;
                }
            }
        }
        i++;
    }
    fclose(fp);
    for (int j = 0; j<=i; j++)
    {
        strcpy(output,buffer[j]);//to combine all the string in different buffer .
    }
    printf("%s",output);
    return 0;
    
}

void calculator()
{
    ;
}





